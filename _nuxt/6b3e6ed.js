(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{121:function(e,t,n){"use strict";var r=n(14),o=(n(25),n(153),n(1));Object.entries({}).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],component=t[1];o.a.component(n,component)}))},122:function(e,t,n){"use strict";var r=n(1),o=n(181);t.a=function(e){var t={clientId:e.$config.GOOGLE_CLIENT_ID,scope:"profile email openid",prompt:"select_account"};r.a.use(o.a,t)}},168:function(e,t,n){var content=n(292);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(74).default)("5c346d62",content,!0,{sourceMap:!1})},184:function(e,t,n){"use strict";n(291);var r=n(47),component=Object(r.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Nuxt")],1)}),[],!1,null,null,null);t.a=component.exports},188:function(e,t,n){n(189),e.exports=n(190)},291:function(e,t,n){"use strict";n(168)},292:function(e,t,n){var r=n(73)(!1);r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Signika:wght@300;400;500&display=swap);"]),r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap);"]),r.push([e.i,'@font-face{font-family:"Danh Da";src:url(/fonts/DanhDa-Bold.eot);src:url(/fonts/DanhDa-Bold.eot?#iefix) format("embedded-opentype"),url(/fonts/DanhDa-Bold.otf) format("opentype"),url(/fonts/DanhDa-Bold.ttf) format("truetype"),url(/fonts/DanhDa-Bold.woff) format("woff"),url(/fonts/DanhDa-Bold.woff2) format("woff2")}.katex{font-size:1.1em}html{scroll-behavior:smooth}body{font-size:16px;margin:0;font-family:"Roboto",sans-serif;line-height:1.7}::-moz-selection{background:#f6dfeb}::selection{background:#f6dfeb}h1,h2,h3,h4{font-family:"Signika",sans-serif;word-spacing:5px;line-height:1.4}h1:before,h2:before,h3:before,h4:before{color:#ccc;margin-right:10px}a:hover{border-bottom:1px dashed #f38ba0;color:#f38ba0}a{text-decoration:none}ul{list-style:none;margin-left:0;padding-left:1.8em}ul li:before{display:inline-block;content:"-";width:1.2em;margin-left:-1.2em}ol{padding-left:16px}p{display:inline;margin:0;text-align:justify;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-spacing:1px}.rc-anchor{display:none}.nuxt-link-active:hover{border:none}.logo{background-image:url(/logo.svg)}code{color:#b1101b;font-size:1.1em;padding:0 2px;border-radius:3px;font-family:"Ubuntu Mono",monospace}pre{-moz-tab-size:4!important;-o-tab-size:4!important;tab-size:4!important}code[class*=language-]{padding:12px 16px!important;background-color:#fbf9f6!important;border-radius:4px}code[class*=language-],pre[class*=language-]{font-size:.92em!important;line-height:1.6;font-family:"JetBrains Mono",monospace}code[class*=language-] .token::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] .token::-moz-selection,pre[class*=language-]::-moz-selection{background:#f6dfeb!important}code[class*=language-] .token::selection,code[class*=language-]::selection,pre[class*=language-] .token::selection,pre[class*=language-]::selection{background:#f6dfeb!important}blockquote{display:block;border-left:5px solid #ddd;border-top-right-radius:5px;border-bottom-right-radius:5px;padding:0 15px;color:#666}.fade-enter,.fade-leave-to{opacity:0}.fade-enter-active,.fade-leave-active{transition:opacity .3s}button{margin:0;border:0;cursor:pointer}@media only screen and (min-width:700px){::-webkit-scrollbar{width:7px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#bbb}::-webkit-scrollbar-thumb:hover{background:#f2a2b3}}@media only screen and (max-width:600px){.katex-display>.katex>.katex-html>.tag{position:unset;margin-left:20px}}',""]),e.exports=r},293:function(e,t){},294:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return f}));var r=n(180),o=n(2),c=(n(43),n(19),n(38),n(48),n(44),n(158),n(69),function(){return{name:"",avatar:"",email:"",profileUrl:"",logined:!1}}),l={setLogin:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.logined=t},setUserInfo:function(e,t){var n=t.userInfo,r=t.loginType;"google"===r?(e.name=n.name,e.avatar=n.picture,e.email=n.email):"github"===r&&(e.name=n.name,e.avatar=n.avatar_url,e.email=n.email,e.profileUrl=n.html_url)}},f={login:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,f,m,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,o=e.dispatch,c=localStorage.getItem("accessToken"),l=localStorage.getItem("loginType"),!n.logined){t.next=5;break}return t.abrupt("return");case 5:if("google"!==l){t.next=19;break}return t.prev=6,t.next=9,o("fetchGoogleUserInfo",c);case 9:f=t.sent,r("setUserInfo",{userInfo:f,loginType:l}),r("setLogin"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),401===(null===(m=t.t0.response)||void 0===m?void 0:m.status)&&o("logout");case 17:t.next=31;break;case 19:if("github"!==l){t.next=31;break}return t.prev=20,t.next=23,o("fetchGithubUserInfo",c);case 23:d=t.sent,r("setUserInfo",{userInfo:d,loginType:l}),r("setLogin"),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(20),401===(null===(h=t.t1.response)||void 0===h?void 0:h.status)&&o("logout");case 31:case"end":return t.stop()}}),t,null,[[6,14],[20,28]])})))()},logout:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=e.commit)("setUserInfo",{name:"",avatar:"",email:""}),r("setLogin",!1),localStorage.removeItem("accessToken"),localStorage.removeItem("loginType"),n.next=7,t._vm.$gAuth.signOut();case 7:console.log("Signed out");case 8:case"end":return n.stop()}}),n)})))()},loginGoogle:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.commit,c=e.dispatch,l="https://accounts.google.com/o/oauth2/auth",l+="?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",l+="&client_id=".concat(t.$config.GOOGLE_CLIENT_ID),l+="&redirect_uri=".concat(window.location.origin),d(l+="&response_type=token",function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(t,"access_token"),e.next=3,c("fetchGoogleUserInfo",n);case 3:o=e.sent,r("setUserInfo",{userInfo:o,loginType:"google"}),r("setLogin"),localStorage.setItem("loginType","google"),c("saveAccessToken",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return n.stop()}}),n)})))()},loginGithub:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.commit,c=e.dispatch,l="https://github.com/login/oauth/authorize?",l+="client_id=".concat(t.$config.GITHUB_CLIENT_ID),l+="&redirect_uri=".concat(window.location.origin,"&scope=user"),d(l,function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){var code,o,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return code=m(n),e.next=3,t.$axios.post("/auth/github",{code:code});case 3:return o=e.sent,l=o.data,e.next=7,c("fetchGithubUserInfo",l.access_token);case 7:f=e.sent,r("setUserInfo",{userInfo:f,loginType:"github"}),r("setLogin"),localStorage.setItem("loginType","github"),c("saveAccessToken",l.access_token);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})))()},fetchGithubUserInfo:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.github.com/user",e.next=3,n.$axios.get("https://api.github.com/user",{headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))()},fetchGoogleUserInfo:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return Object(r.a)(e),c="https://www.googleapis.com/oauth2/v1/userinfo?access_token=".concat(t),o.next=4,n.$axios.get(c);case 4:return l=o.sent,o.abrupt("return",l.data);case 6:case"end":return o.stop()}}),o)})))()},saveAccessToken:function(e,t){localStorage.setItem("accessToken",t)}},m=function(e){var t=/\?.*=(.*)/gm.exec(e);return t&&t[1]?t[1]:""},d=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.open(t,"Authentication","width=550, height=650 left=100 top=50"),c=window.setInterval(Object(o.a)(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.document){e.next=3;break}return e.abrupt("return",window.clearInterval(c));case 3:t=r.document.URL,o=window.location.origin,-1!=t.indexOf(o)&&(window.clearInterval(c),r.close(),n(t)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),300);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\#&]"+t+"=([^&#]*)").exec(e);return null==n?"":n[1]}},295:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return x}));n(39),n(9),n(19),n(40),n(22),n(24),n(37),n(41),n(26),n(35),n(36),n(49),n(25),n(50);var r=n(2),o=n(21),c=n(185);n(43),n(58),n(163),n(46),n(296),n(187);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var h=function(){return{comments:[],replyingIndex:-1,replyingCommentID:0,recaptcha:null}},v={addComment:function(e,t){e.comments=[t].concat(Object(c.a)(e.comments))},setComments:function(e,t){e.comments=t},addCommentAtIndex:function(e,t){var n=t.index,r=t.comment;e.comments.splice(n,0,r)},removeCommentAtIndex:function(e,t){e.comments.splice(t,1)},changeReplyingIndex:function(e,t){e.replyingIndex=t},changeReplyingCommentID:function(e,t){e.replyingCommentID=t},setRecaptcha:function(e,t){e.recaptcha=t}},x={addCommentsfromRequest:function(e,t){var n,r=e.commit,o=[],c=m(t);try{var l=function(){var e=n.value;if(o.push(e),e.replies){var t=e.replies.map((function(t){return f(f({},t),{},{reply_comment_id:e.id})}));o=o.concat(t)}};for(c.s();!(n=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}r("setComments",o)},addCommentAtID:function(e,t){var n=e.state,r=e.commit,o=t.postID,c=t.comment;r("addCommentAtIndex",{index:n.comments.findIndex((function(e){return e.id===o})),comment:c})},addReplyInput:function(e,t){return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,i,c,l,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,o=e.commit,-1==r.replyingIndex){n.next=5;break}return n.next=4,o("removeCommentAtIndex",r.replyingIndex);case 4:t>r.replyingIndex&&t--;case 5:i=t;case 6:if(!(i<r.comments.length)){n.next=18;break}if(c=r.comments[i],l=r.comments[i+1],i!==r.comments.length-1&&null!=l&&l.reply_comment_id){n.next=15;break}return o("addCommentAtIndex",{index:i+1,comment:{id:"reply_input_".concat(c.id),isInput:!0,replyCommentID:c.id}}),f=r.comments[t].reply_comment_id||r.comments[t].id,o("changeReplyingCommentID",f),o("changeReplyingIndex",i+1),n.abrupt("break",18);case 15:i++,n.next=6;break;case 18:case"end":return n.stop()}}),n)})))()},submitComment:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var c,l,m,d,content;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=e.commit,l=e.rootState,m=e.state,d=t.isReply,""!==(content=(content=t.content).trim())){o.next=5;break}return o.abrupt("return",null);case 5:m.recaptcha.execute("comment").then(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var r,body,path,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(body={content:content,access_token:localStorage.getItem("accessToken"),login_type:localStorage.getItem("loginType"),recaptcha_token:t},!d){e.next=10;break}return path="/comments/".concat(l.post.data.id,"/reply/").concat(m.replyingCommentID),e.next=5,n.$axios.$post(path,body);case 5:r=e.sent,c("addCommentAtIndex",{index:m.replyingIndex,comment:f(f({},r),{},{reply_comment_id:m.replyingCommentID})}),c("changeReplyingIndex",m.replyingIndex+1),e.next=15;break;case 10:return o="/comments/".concat(l.post.data.id),e.next=13,n.$axios.$post(o,body);case 13:r=e.sent,c("addComment",r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return o.stop()}}),o)})))()}}},298:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o}));var r=function(){return{data:{}}},o={setPost:function(e,t){e.data=t}}}},[[188,26,2,27]]]);